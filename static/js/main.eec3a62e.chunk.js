(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(6),c=a.n(s),i=(a(13),a(2)),u=a(3),o=a(5),l=a(4),h=a(7),j=(a(14),a(1)),p=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:""},e.handleInputValueChange=function(t){e.setState({inputValue:t.currentTarget.value.toLowerCase()})},e.handleOnSubmit=function(t){if(t.preventDefault(),""===e.state.inputValue.trim())return h.b.error("Please enter keyword.",{});e.props.onSubmit(e.state.inputValue),e.setState({inputValue:""})},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:this.handleOnSubmit,children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{className:"SearchForm-input",type:"text",value:this.state.inputValue,onChange:this.handleInputValueChange})]})})}}]),a}(n.Component),b=function(e){var t=e.id,a=e.src,n=e.alt;return Object(j.jsx)("li",{className:"ImageGalleryItem",children:Object(j.jsx)("img",{src:a,alt:n[0],className:"ImageGalleryItem-image"})},t)},m=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={images:[],error:null,status:"resolved"},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.props.inputValue;e.inputValue!==n&&(this.setState({status:"pending"}),fetch("https://pixabay.com/api/?key=10507999-623e060cae639baa9b9819f90&q=".concat(n,"&image_type=photo")).then((function(e){return e.ok?e.json():Promise.reject({error:new Error("Your request ".concat(n," did not return any results"))})})).then((function(e){return a.setState({images:e.hits,status:"resolved"})})).catch((function(e){return a.setState({error:e,status:"rejected"})})))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.status,n=e.images;return"pending"===a?Object(j.jsx)("h1",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c..."}):"rejected"===a?Object(j.jsx)("h3",{children:t.message}):"resolved"===a?Object(j.jsx)("ul",{className:"ImageGallery",children:n.map((function(e){var t=e.id,a=e.webformatURL,n=e.tags;return Object(j.jsx)(b,{src:a,alt:n.split(" ")},t)}))}):void 0}}]),a}(n.Component),d=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:"",images:{},loading:!1},e.handleSearchSubmit=function(t){console.log(t),e.setState({inputValue:t})},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{style:{maxWidth:1170,margin:"0 auto",padding:20},children:[Object(j.jsx)(p,{onSubmit:this.handleSearchSubmit}),Object(j.jsx)(m,{inputValue:this.state.inputValue}),Object(j.jsx)(h.a,{autoClose:2500})]})}}]),a}(n.Component);c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(d,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.eec3a62e.chunk.js.map