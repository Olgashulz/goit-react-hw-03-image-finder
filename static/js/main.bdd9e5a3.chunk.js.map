{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","components/ErrorResponse/ErrorResponse.js","servises/app.js","App.js","index.js"],"names":["Searchbar","state","inputValue","handleInputValueChange","event","setState","currentTarget","value","toLowerCase","handleOnSubmit","preventDefault","trim","toast","error","console","log","props","onSubmit","removeImages","className","this","type","onChange","placeholder","Component","ImageGalleryItem","onToggle","images","map","item","onClick","largeImageURL","src","webformatURL","alt","tags","id","ImageGallery","onOpen","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","children","LoaderFnc","color","height","width","timeout","ErrorResponse","message","fetchImages","page","a","fetch","then","response","ok","json","Promise","reject","Error","dataImages","hits","App","showModal","status","handleSearchSubmit","prevState","toggleModal","largeImage","prevProps","gallery","scrollTo","top","documentElement","scrollHeight","behavior","style","maxWidth","margin","padding","length","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bdd9e5a3.chunk.js","sourcesContent":["import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    inputValue: '',\n  };\n\n  handleInputValueChange = event => {\n    // console.log(event.currentTarget.value.toLowerCase())\n    this.setState({ inputValue: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleOnSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.inputValue.trim() === '') {\n      return toast.error('Please enter keyword.');\n    }\n\n    if (this.state.inputValue.trim() === '') {\n      console.log(\"параметры поиска совпадают\")\n    }\n\n    this.props.onSubmit(this.state.inputValue);\n    this.props.removeImages();\n    // this.setState({ inputValue: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleOnSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            value={this.state.inputValue}\n            onChange={this.handleInputValueChange}\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\r\n\r\n// const ImageGalleryItem = ({ id, src, alt, modalSrc, toggle }) => (\r\n//   <li className=\"ImageGalleryItem\" key={id}>\r\n//     <img src={src} alt={alt[0]} className=\"ImageGalleryItem-image\" onClick={() => toggle(modalSrc)} />\r\n//   </li>\r\n// );\r\n\r\nconst ImageGalleryItem = ({ onToggle, images }) => {\r\n  return (\r\n    <>\r\n      {images.map(item => {\r\n        return (\r\n          <li onClick={() => onToggle(item.largeImageURL)} className=\"ImageGalleryItem\" key={item.id} >\r\n            <img\r\n              src={item.webformatURL}\r\n              alt={item.tags[0]}\r\n              className=\"ImageGalleryItem-image\"\r\n              data-largeimage={item.largeImageURL}\r\n            />\r\n          </li>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ images, onOpen }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      <ImageGalleryItem images={images} onToggle={onOpen} />\n    </ul>)\n}\nexport default ImageGallery;\n","import React from 'react';\n\nexport default function Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onLoadMore}>\n      Load more\n    </button>\n  );\n}\n","import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose(event);\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose(event);\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\n// Modal.propTypes = {\n//     onClose: PropTypes.func.isRequired,\n// };\n\nexport default Modal;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\n\nexport default function LoaderFnc() {\n  return (\n    <div className=\"loaderContainer\">\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#3f51b5\"\n        height={50}\n        width={50}\n        timeout={3000}\n      />\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function ErrorResponse({ message }) {\n  console.log('Ошибка');\n  return <h3>{message}</h3>;\n}\n","export const fetchImages = async (inputValue, page) => {\n    const dataImages = await fetch(\n        `https://pixabay.com/api/?key=10507999-623e060cae639baa9b9819f90&q=${inputValue}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`,\n    ).then(response => {\n        if (response.ok) {\n            return response.json();\n        }\n        return Promise.reject({\n            error: new Error(`Your request ${inputValue} did not return any results`),\n        });\n    });\n    return dataImages.hits;\n};\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { toast } from 'react-toastify';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Loader from \"./components/Loader\";\nimport ErrorResponse from './components/ErrorResponse';\nimport { fetchImages } from './servises/app';\n\n\nexport default class App extends Component {\n  state = {\n    inputValue: '',\n    images: [],\n    page: 1,\n    showModal: false,\n\n    error: null,\n    status: 'resolved',\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { inputValue, page } = this.state;\n\n    if (prevState.inputValue !== inputValue || prevState.page !== page) {\n      try {\n        this.setState({ status: 'pending' });\n        const gallery = await fetchImages(inputValue, page);\n\n        this.setState({ status: 'resolved' });\n\n        this.setState(prevState => ({\n          images: [...prevState.images, ...gallery],\n        }));\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      } catch (error) {\n        this.setState({ error, status: 'rejected' });\n      }\n    }\n  }\n\n  handleSearchSubmit = inputValue => {\n    console.log(inputValue);\n    this.setState({ inputValue });\n  };\n\n  removeImages = () => {\n    this.setState({ images: [] });\n  };\n\n  onLoadMore = event => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n    this.handleSearchSubmit(this.state.inputValue);\n  };\n\n  toggleModal = largeImage => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n    this.setState({ largeImage: largeImage });\n  };\n\n  render() {\n    const { status, error, inputValue, showModal, largeImage, images } = this.state;\n    return (\n      <div style={{ maxWidth: 1170, margin: '0 auto', padding: 20 }}>\n        <Searchbar\n          onSubmit={this.handleSearchSubmit}\n          removeImages={this.removeImages}\n        />\n\n        {status === 'pending' && <Loader />}\n        {status === 'rejected' && <ErrorResponse message={error.message} />}\n\n        <ImageGallery\n          onOpen={this.toggleModal}\n          images={images}\n        />\n\n        {images.length > 0 && (\n          <Button onLoadMore={this.onLoadMore} />\n        )}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImage} alt={inputValue} />\n          </Modal>\n        )}\n        <ToastContainer autoClose={2500} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// // If you want to start measuring performance in your app, pass a function\n// // to log results (for example: reportWebVitals(console.log))\n// // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}